{"mappings":"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","sources":["<anon>","src/index.js","src/game/index.js","src/game/base-game.js","src/sudoku/index.js","src/sudoku/sudoku.js","src/sudoku/tile.js"],"sourcesContent":["class $710399a0f3bd0a12$export$2e2bcd8739ae039 {\n    /**\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */ constructor(row, col, value){\n        this.row = row;\n        this.col = col;\n        this.value = value;\n        this.element = null;\n        this.guesses = [];\n    }\n    render() {\n        const tileDiv = document.createElement('div');\n        tileDiv.classList.add('tile');\n        if (this.value) tileDiv.textContent = this.value;\n        this.element = tileDiv;\n        return tileDiv;\n    }\n}\n\n\nclass $043f643f06a810b4$export$2e2bcd8739ae039 {\n    /**\n   * @param {HTMLElement} element\n   * @param {number[][]} initialValues\n   */ constructor(element){\n        this.element = element;\n        this.board = Array.from({\n            length: 9\n        }, ()=>Array(9).fill(null));\n    }\n    /**\n   * Restarts the Sudoku board with the given initial values.\n   *\n   * @param {number[][]} initialValues\n   */ restart(initialValues) {\n        this.board = Array.from({\n            length: 9\n        }, ()=>Array(9).fill(null));\n        for(let row = 0; row < 9; row++)for(let col = 0; col < 9; col++){\n            let tile;\n            if (initialValues && initialValues[row] && initialValues[row][col]) tile = new (0, $710399a0f3bd0a12$export$2e2bcd8739ae039)(row, col, initialValues[row][col]);\n            else tile = new (0, $710399a0f3bd0a12$export$2e2bcd8739ae039)(row, col, null);\n            this.board[row][col] = tile;\n        }\n    }\n    render() {\n        const boardDiv = document.createElement('div');\n        boardDiv.classList.add('board');\n        // First, we generate divs for each 3x3 box.\n        for(let boardRow = 0; boardRow < 3; boardRow++){\n            const boardRowDiv = document.createElement('div');\n            boardRowDiv.classList.add('board-row');\n            boardDiv.appendChild(boardRowDiv);\n            for(let boardCol = 0; boardCol < 3; boardCol++){\n                const boxDiv = document.createElement('div');\n                boxDiv.classList.add('box');\n                boardRowDiv.appendChild(boxDiv);\n                // Then we generate the 9 tiles inside each 3x3 box.\n                for(let boxRow = 0; boxRow < 3; boxRow++){\n                    const boxRowDiv = document.createElement('div');\n                    boxRowDiv.classList.add('box-row');\n                    boxDiv.appendChild(boxRowDiv);\n                    for(let boxCol = 0; boxCol < 3; boxCol++){\n                        const row = 3 * boardRow + boxRow;\n                        const col = 3 * boardCol + boxCol;\n                        const tileDiv = this.board[row][col].render();\n                        boxRowDiv.appendChild(tileDiv);\n                    }\n                }\n            }\n        }\n        return boardDiv;\n    }\n    update() {\n        const newBoard = this.render();\n        const parentElement = this.element.parentNode;\n        parentElement.removeChild(this.element);\n        this.element = newBoard;\n        parentElement.appendChild(this.element);\n    }\n}\n\n\n\n\n\nclass $a2030f11c468f537$export$2e2bcd8739ae039 {\n    constructor(boardElement, initialValues){\n        this.boardElement = boardElement;\n        this.initialValues = initialValues;\n        this.sudoku = null;\n        this.activeTileRow = null;\n        this.activeTileCol = null;\n    }\n    start() {\n        this.sudoku = new (0, $043f643f06a810b4$export$2e2bcd8739ae039)(this.boardElement);\n        this.sudoku.restart(this.initialValues);\n        this.updateSudoku();\n    }\n    updateSudoku() {\n        this.sudoku.update();\n        this.addListenersAndValidatorsToSudokuTiles();\n    }\n    addListenersAndValidatorsToSudokuTiles() {\n        for(let row = 0; row < 9; row++)for(let col = 0; col < 9; col++){\n            const tile = this.sudoku.board[row][col];\n            if (this.isInitial(tile)) tile.element.classList.add('initial');\n            else tile.element.addEventListener('click', ()=>this.toggleActivateTile(tile));\n            if (tile.value !== null && !this.isValidMove(row, col, tile.value)) tile.element.classList.add('invalid');\n        }\n    }\n    isInitial(tile) {\n        return Boolean(tile && tile.value && this.initialValues[tile.row][tile.col] === tile.value);\n    }\n    /**\n   * If not active, activates the clicked tile for keyboard input.\n   * Otherwise, deactivates the keyboard event listeners.\n   *\n   * @param {Tile} tile\n   */ toggleActivateTile(tile) {\n        if (this.activeTileRow === tile.row && this.activeTileCol === tile.col) {\n            tile.element.classList.remove('active');\n            this.activeTileRow = null;\n            this.activeTileCol = null;\n            this.removeKeyboardListener();\n        } else {\n            if (this.activeTileRow !== null && this.activeTileCol !== null) {\n                const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n                activeTile.element.classList.remove('active');\n            } else this.addKeyboardListener();\n            tile.element.classList.add('active');\n            this.activeTileRow = tile.row;\n            this.activeTileCol = tile.col;\n        }\n    }\n    deactivateTile() {\n        if (this.activeTileRow === null || this.activeTileCol === null) return;\n        const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n        activeTile.element.classList.remove('active');\n        this.activeTileRow = null;\n        this.activeTileCol = null;\n    }\n    addKeyboardListener() {\n        if (document) document.addEventListener('keydown', this.handleKeyboardEvent);\n    }\n    removeKeyboardListener() {\n        if (document) document.removeEventListener('keydown', this.handleKeyboardEvent);\n    }\n    handleKeyboardEvent = (event)=>{\n        if (this.activeTileRow === null || this.activeTileCol === null) return;\n        const value = Number(event.key);\n        if (value >= 1 && value <= 9) {\n            this.fillActiveTile(value);\n            this.deactivateTile();\n            this.removeKeyboardListener();\n            this.updateSudoku();\n        } else if (event.key === 'Backspace' || event.key === 'Delete') {\n            this.fillActiveTile(null);\n            this.deactivateTile();\n            this.removeKeyboardListener();\n            this.updateSudoku();\n        } else if (event.key === 'Escape') {\n            this.deactivateTile();\n            this.removeKeyboardListener();\n        }\n    };\n    /**\n   * Fills active tile with the provided value\n   *\n   * @param {number | null} value\n   */ fillActiveTile(value) {\n        if (this.activeTileRow === null || this.activeTileCol === null) return;\n        const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n        activeTile.value = value;\n    }\n    /**\n   * Checks if a tile can be filled with a given value.\n   *\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */ isValidMove(row, col, value) {\n        const board = this.sudoku.board;\n        // Check row\n        for(let c = 0; c < 9; c++){\n            if (board[row][c].value === value && c !== col) return false;\n        }\n        // Check column\n        for(let r = 0; r < 9; r++){\n            if (board[r][col].value === value && r !== row) return false;\n        }\n        // Check 3x3 box\n        const startRow = 3 * Math.floor(row / 3);\n        const startCol = 3 * Math.floor(col / 3);\n        for(let r = startRow; r < startRow + 3; r++)for(let c = startCol; c < startCol + 3; c++){\n            if (board[r][c].value === value && r !== row && c !== col) return false;\n        }\n        return true;\n    }\n}\n\n\n\n\nconst $35da740d59af89ba$var$game = new (0, $a2030f11c468f537$export$2e2bcd8739ae039)(document.querySelector('.board'), [\n    [\n        0,\n        0,\n        0,\n        3,\n        8,\n        0,\n        0,\n        5,\n        6\n    ],\n    [\n        3,\n        0,\n        0,\n        0,\n        0,\n        6,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0,\n        4,\n        0,\n        0,\n        3,\n        0\n    ],\n    [\n        8,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n    ],\n    [\n        0,\n        0,\n        1,\n        0,\n        7,\n        0,\n        9,\n        0,\n        0\n    ],\n    [\n        9,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        4\n    ],\n    [\n        0,\n        7,\n        0,\n        0,\n        9,\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        3\n    ],\n    [\n        1,\n        4,\n        0,\n        0,\n        2,\n        5,\n        0,\n        0,\n        0\n    ]\n]);\n$35da740d59af89ba$var$game.start();\n\n\n//# sourceMappingURL=index.ee414d14.js.map\n","import { BaseGame } from './game';\n\nconst game = new BaseGame(document.querySelector('.board'), [\n  [0, 0, 0, 3, 8, 0, 0, 5, 6],\n  [3, 0, 0, 0, 0, 6, 0, 0, 0],\n  [0, 0, 0, 0, 4, 0, 0, 3, 0],\n  [8, 0, 7, 0, 0, 0, 0, 0, 1],\n  [0, 0, 1, 0, 7, 0, 9, 0, 0],\n  [9, 0, 0, 0, 0, 0, 2, 0, 4],\n  [0, 7, 0, 0, 9, 0, 0, 0, 0],\n  [0, 0, 0, 4, 0, 0, 0, 0, 3],\n  [1, 4, 0, 0, 2, 5, 0, 0, 0],\n]);\n\ngame.start();\n","export { default as BaseGame } from './base-game.js';\n","import { Sudoku, Tile } from '../sudoku';\n\nexport default class BaseGame {\n  constructor(boardElement, initialValues) {\n    this.boardElement = boardElement;\n    this.initialValues = initialValues;\n    this.sudoku = null;\n    this.activeTileRow = null;\n    this.activeTileCol = null;\n  }\n\n  start() {\n    this.sudoku = new Sudoku(this.boardElement);\n    this.sudoku.restart(this.initialValues);\n    this.updateSudoku();\n  }\n\n  updateSudoku() {\n    this.sudoku.update();\n    this.addListenersAndValidatorsToSudokuTiles();\n  }\n\n  addListenersAndValidatorsToSudokuTiles() {\n    for (let row = 0; row < 9; row++) {\n      for (let col = 0; col < 9; col++) {\n        const tile = this.sudoku.board[row][col];\n\n        if (this.isInitial(tile)) {\n          tile.element.classList.add('initial');\n        } else {\n          tile.element.addEventListener('click', () => this.toggleActivateTile(tile));\n        }\n\n        if (tile.value !== null && !this.isValidMove(row, col, tile.value)) {\n          tile.element.classList.add('invalid');\n        }\n      }\n    }\n  }\n\n  isInitial(tile) {\n    return Boolean(tile && tile.value && this.initialValues[tile.row][tile.col] === tile.value);\n  }\n\n  /**\n   * If not active, activates the clicked tile for keyboard input.\n   * Otherwise, deactivates the keyboard event listeners.\n   *\n   * @param {Tile} tile\n   */\n  toggleActivateTile(tile) {\n    if (this.activeTileRow === tile.row && this.activeTileCol === tile.col) {\n      tile.element.classList.remove('active');\n      this.activeTileRow = null;\n      this.activeTileCol = null;\n      this.removeKeyboardListener();\n    } else {\n      if (this.activeTileRow !== null && this.activeTileCol !== null) {\n        const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n        activeTile.element.classList.remove('active');\n      } else {\n        this.addKeyboardListener();\n      }\n\n      tile.element.classList.add('active');\n      this.activeTileRow = tile.row;\n      this.activeTileCol = tile.col;\n    }\n  }\n\n  deactivateTile() {\n    if (this.activeTileRow === null || this.activeTileCol === null) return;\n    const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n    activeTile.element.classList.remove('active');\n    this.activeTileRow = null;\n    this.activeTileCol = null;\n  }\n\n  addKeyboardListener() {\n    if (document) document.addEventListener('keydown', this.handleKeyboardEvent);\n  }\n\n  removeKeyboardListener() {\n    if (document) document.removeEventListener('keydown', this.handleKeyboardEvent);\n  }\n\n  handleKeyboardEvent = (event) => {\n    if (this.activeTileRow === null || this.activeTileCol === null) return;\n\n    const value = Number(event.key);\n\n    if (value >= 1 && value <= 9) {\n      this.fillActiveTile(value);\n      this.deactivateTile();\n      this.removeKeyboardListener();\n      this.updateSudoku();\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      this.fillActiveTile(null);\n      this.deactivateTile();\n      this.removeKeyboardListener();\n      this.updateSudoku();\n    } else if (event.key === 'Escape') {\n      this.deactivateTile();\n      this.removeKeyboardListener();\n    }\n  };\n\n  /**\n   * Fills active tile with the provided value\n   *\n   * @param {number | null} value\n   */\n  fillActiveTile(value) {\n    if (this.activeTileRow === null || this.activeTileCol === null) return;\n    const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n    activeTile.value = value;\n  }\n\n  /**\n   * Checks if a tile can be filled with a given value.\n   *\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */\n  isValidMove(row, col, value) {\n    const board = this.sudoku.board;\n\n    // Check row\n    for (let c = 0; c < 9; c++) {\n      if (board[row][c].value === value && c !== col) return false;\n    }\n\n    // Check column\n    for (let r = 0; r < 9; r++) {\n      if (board[r][col].value === value && r !== row) return false;\n    }\n\n    // Check 3x3 box\n    const startRow = 3 * Math.floor(row / 3);\n    const startCol = 3 * Math.floor(col / 3);\n    for (let r = startRow; r < startRow + 3; r++) {\n      for (let c = startCol; c < startCol + 3; c++) {\n        if (board[r][c].value === value && r !== row && c !== col) return false;\n      }\n    }\n\n    return true;\n  }\n}\n","export { default as Sudoku } from './sudoku';\nexport { default as Tile } from './tile';\n","import Tile from './tile';\n\nexport default class Sudoku {\n  /**\n   * @param {HTMLElement} element\n   * @param {number[][]} initialValues\n   */\n  constructor(element) {\n    this.element = element;\n    this.board = Array.from({ length: 9 }, () => Array(9).fill(null));\n  }\n\n  /**\n   * Restarts the Sudoku board with the given initial values.\n   *\n   * @param {number[][]} initialValues\n   */\n  restart(initialValues) {\n    this.board = Array.from({ length: 9 }, () => Array(9).fill(null));\n\n    for (let row = 0; row < 9; row++) {\n      for (let col = 0; col < 9; col++) {\n        let tile;\n\n        if (initialValues && initialValues[row] && initialValues[row][col]) {\n          tile = new Tile(row, col, initialValues[row][col]);\n        } else {\n          tile = new Tile(row, col, null);\n        }\n\n        this.board[row][col] = tile;\n      }\n    }\n  }\n\n  render() {\n    const boardDiv = document.createElement('div');\n    boardDiv.classList.add('board');\n\n    // First, we generate divs for each 3x3 box.\n    for (let boardRow = 0; boardRow < 3; boardRow++) {\n      const boardRowDiv = document.createElement('div');\n      boardRowDiv.classList.add('board-row');\n      boardDiv.appendChild(boardRowDiv);\n\n      for (let boardCol = 0; boardCol < 3; boardCol++) {\n        const boxDiv = document.createElement('div');\n        boxDiv.classList.add('box');\n        boardRowDiv.appendChild(boxDiv);\n\n        // Then we generate the 9 tiles inside each 3x3 box.\n        for (let boxRow = 0; boxRow < 3; boxRow++) {\n          const boxRowDiv = document.createElement('div');\n          boxRowDiv.classList.add('box-row');\n          boxDiv.appendChild(boxRowDiv);\n\n          for (let boxCol = 0; boxCol < 3; boxCol++) {\n            const row = 3 * boardRow + boxRow;\n            const col = 3 * boardCol + boxCol;\n            const tileDiv = this.board[row][col].render();\n            boxRowDiv.appendChild(tileDiv);\n          }\n        }\n      }\n    }\n\n    return boardDiv;\n  }\n\n  update() {\n    const newBoard = this.render();\n\n    const parentElement = this.element.parentNode;\n    parentElement.removeChild(this.element);\n\n    this.element = newBoard;\n    parentElement.appendChild(this.element);\n  }\n}\n","export default class Tile {\n  /**\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */\n  constructor(row, col, value) {\n    this.row = row;\n    this.col = col;\n    this.value = value;\n    this.element = null;\n    this.guesses = [];\n  }\n\n  render() {\n    const tileDiv = document.createElement('div');\n    tileDiv.classList.add('tile');\n\n    if (this.value) {\n      tileDiv.textContent = this.value;\n    }\n\n    this.element = tileDiv;\n    return tileDiv;\n  }\n}\n"],"names":["$710399a0f3bd0a12$export$2e2bcd8739ae039","constructor","row","col","value","element","guesses","render","tileDiv","document","createElement","classList","add","textContent","$043f643f06a810b4$export$2e2bcd8739ae039","board","Array","from","length","fill","restart","initialValues","tile","boardDiv","boardRow","boardRowDiv","appendChild","boardCol","boxDiv","boxRow","boxRowDiv","boxCol","update","newBoard","parentElement","parentNode","removeChild","$35da740d59af89ba$var$game","boardElement","sudoku","activeTileRow","activeTileCol","start","updateSudoku","addListenersAndValidatorsToSudokuTiles","isInitial","addEventListener","toggleActivateTile","isValidMove","Boolean","remove","removeKeyboardListener","activeTile","addKeyboardListener","deactivateTile","handleKeyboardEvent","removeEventListener","event","Number","key","fillActiveTile","c","r","startRow","Math","floor","startCol","querySelector","BaseGame","game","default","Sudoku","Tile"],"version":3,"file":"index.ee414d14.js.map"}