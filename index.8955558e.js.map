{"mappings":"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","sources":["<anon>","src/index.js","src/game/index.js","src/game/base-game.js","src/sudoku/index.js","src/sudoku/sudoku.js","src/sudoku/tile.js"],"sourcesContent":["class $710399a0f3bd0a12$export$2e2bcd8739ae039 {\n    /**\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */ constructor(row, col, value){\n        this.row = row;\n        this.col = col;\n        this.value = value;\n        this.element = null;\n        this.pencilMarks = [];\n    }\n    render() {\n        const tileEl = document.createElement('div');\n        tileEl.classList.add('tile');\n        if (this.value) tileEl.textContent = this.value;\n        this.element = tileEl;\n        return tileEl;\n    }\n}\n\n\nclass $043f643f06a810b4$export$2e2bcd8739ae039 {\n    /**\n   * @param {HTMLElement} element\n   * @param {number[][]} initialValues\n   */ constructor(element){\n        this.element = element;\n        this.board = Array.from({\n            length: 9\n        }, ()=>Array(9).fill(null));\n    }\n    /**\n   * Restarts the Sudoku board with the given initial values.\n   *\n   * @param {number[][]} initialValues\n   */ restart(initialValues) {\n        this.board = Array.from({\n            length: 9\n        }, ()=>Array(9).fill(null));\n        for(let row = 0; row < 9; row++)for(let col = 0; col < 9; col++){\n            let tile;\n            if (initialValues && initialValues[row] && initialValues[row][col]) tile = new (0, $710399a0f3bd0a12$export$2e2bcd8739ae039)(row, col, initialValues[row][col]);\n            else tile = new (0, $710399a0f3bd0a12$export$2e2bcd8739ae039)(row, col, null);\n            this.board[row][col] = tile;\n        }\n    }\n    render() {\n        const boardDiv = document.createElement('div');\n        boardDiv.classList.add('board');\n        // First, we generate divs for each 3x3 box.\n        for(let boardRow = 0; boardRow < 3; boardRow++){\n            const boardRowDiv = document.createElement('div');\n            boardRowDiv.classList.add('board-row');\n            boardDiv.appendChild(boardRowDiv);\n            for(let boardCol = 0; boardCol < 3; boardCol++){\n                const boxDiv = document.createElement('div');\n                boxDiv.classList.add('box');\n                boardRowDiv.appendChild(boxDiv);\n                // Then we generate the 9 tiles inside each 3x3 box.\n                for(let boxRow = 0; boxRow < 3; boxRow++){\n                    const boxRowDiv = document.createElement('div');\n                    boxRowDiv.classList.add('box-row');\n                    boxDiv.appendChild(boxRowDiv);\n                    for(let boxCol = 0; boxCol < 3; boxCol++){\n                        const row = 3 * boardRow + boxRow;\n                        const col = 3 * boardCol + boxCol;\n                        const tileDiv = this.board[row][col].render();\n                        boxRowDiv.appendChild(tileDiv);\n                    }\n                }\n            }\n        }\n        return boardDiv;\n    }\n    update() {\n        const newBoard = this.render();\n        const parentElement = this.element.parentNode;\n        parentElement.removeChild(this.element);\n        this.element = newBoard;\n        parentElement.appendChild(this.element);\n    }\n}\n\n\n\n\n\nclass $a2030f11c468f537$export$2e2bcd8739ae039 {\n    constructor(boardElement, initialValues){\n        this.boardElement = boardElement;\n        this.initialValues = initialValues;\n        this.sudoku = null;\n        this.activeTileRow = null;\n        this.activeTileCol = null;\n    }\n    start() {\n        this.sudoku = new (0, $043f643f06a810b4$export$2e2bcd8739ae039)(this.boardElement);\n        this.sudoku.restart(this.initialValues);\n        this.updateSudoku();\n    }\n    updateSudoku() {\n        this.sudoku.update();\n        this.addListenersAndValidatorsToSudokuTiles();\n    }\n    addListenersAndValidatorsToSudokuTiles() {\n        for(let row = 0; row < 9; row++)for(let col = 0; col < 9; col++){\n            const tile = this.sudoku.board[row][col];\n            if (this.isInitial(tile)) tile.element.classList.add('initial');\n            else tile.element.addEventListener('click', ()=>this.toggleActivateTile(tile));\n            if (tile.value !== null && !this.isValidMove(row, col, tile.value)) tile.element.classList.add('invalid');\n        }\n    }\n    isInitial(tile) {\n        return Boolean(tile && tile.value && this.initialValues[tile.row][tile.col] === tile.value);\n    }\n    /**\n   * If not active, activates the clicked tile for keyboard input.\n   * Otherwise, deactivates the keyboard event listeners.\n   *\n   * @param {Tile} tile\n   */ toggleActivateTile(tile) {\n        if (this.activeTileRow === tile.row && this.activeTileCol === tile.col) {\n            tile.element.classList.remove('active');\n            this.activeTileRow = null;\n            this.activeTileCol = null;\n            this.removeKeyboardListener();\n        } else {\n            if (this.activeTileRow !== null && this.activeTileCol !== null) {\n                const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n                activeTile.element.classList.remove('active');\n            } else this.addKeyboardListener();\n            tile.element.classList.add('active');\n            this.activeTileRow = tile.row;\n            this.activeTileCol = tile.col;\n        }\n    }\n    deactivateTile() {\n        if (this.activeTileRow === null || this.activeTileCol === null) return;\n        const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n        activeTile.element.classList.remove('active');\n        this.activeTileRow = null;\n        this.activeTileCol = null;\n    }\n    addKeyboardListener() {\n        if (!document) return;\n        // Create a hidden input element if it doesn't exist\n        let hiddenInput = document.getElementById('hiddenKeyboardInput');\n        if (!hiddenInput) {\n            hiddenInput = document.createElement('input');\n            hiddenInput.type = 'text';\n            hiddenInput.id = 'hiddenKeyboardInput';\n            hiddenInput.style.position = 'absolute';\n            hiddenInput.style.opacity = 0;\n            hiddenInput.style.height = 0;\n            hiddenInput.style.width = 0;\n            hiddenInput.style.zIndex = -1;\n            document.body.appendChild(hiddenInput);\n        }\n        // Focus on the hidden input element to show the keyboard\n        hiddenInput.focus();\n        // And then we add the event listener.\n        document.addEventListener('keydown', this.handleKeyboardEvent);\n    }\n    removeKeyboardListener() {\n        if (!document) return;\n        document.removeEventListener('keydown', this.handleKeyboardEvent);\n    }\n    /**\n   * @param {KeyboardEvent} event \n   */ handleKeyboardEvent = (event)=>{\n        event.stopPropagation();\n        if (this.activeTileRow === null || this.activeTileCol === null) return;\n        // Handle actual keyboard event.\n        const value = Number(event.key);\n        if (value >= 1 && value <= 9) {\n            this.fillActiveTile(value);\n            this.deactivateTile();\n            this.removeKeyboardListener();\n            this.updateSudoku();\n        } else if (event.key === 'Backspace' || event.key === 'Delete') {\n            this.fillActiveTile(null);\n            this.deactivateTile();\n            this.removeKeyboardListener();\n            this.updateSudoku();\n        } else if (event.key === 'Escape') {\n            this.deactivateTile();\n            this.removeKeyboardListener();\n        }\n    };\n    /**\n   * Fills active tile with the provided value\n   *\n   * @param {number | null} value\n   */ fillActiveTile(value) {\n        if (this.activeTileRow === null || this.activeTileCol === null) return;\n        const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n        activeTile.value = value;\n    }\n    /**\n   * Checks if a tile can be filled with a given value.\n   *\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */ isValidMove(row, col, value) {\n        const board = this.sudoku.board;\n        // Check row\n        for(let c = 0; c < 9; c++){\n            if (board[row][c].value === value && c !== col) return false;\n        }\n        // Check column\n        for(let r = 0; r < 9; r++){\n            if (board[r][col].value === value && r !== row) return false;\n        }\n        // Check 3x3 box\n        const startRow = 3 * Math.floor(row / 3);\n        const startCol = 3 * Math.floor(col / 3);\n        for(let r = startRow; r < startRow + 3; r++)for(let c = startCol; c < startCol + 3; c++){\n            if (board[r][c].value === value && r !== row && c !== col) return false;\n        }\n        return true;\n    }\n}\n\n\n\n\nconst $35da740d59af89ba$var$game = new (0, $a2030f11c468f537$export$2e2bcd8739ae039)(document.querySelector('.board'), [\n    [\n        0,\n        0,\n        0,\n        3,\n        8,\n        0,\n        0,\n        5,\n        6\n    ],\n    [\n        3,\n        0,\n        0,\n        0,\n        0,\n        6,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0,\n        4,\n        0,\n        0,\n        3,\n        0\n    ],\n    [\n        8,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n    ],\n    [\n        0,\n        0,\n        1,\n        0,\n        7,\n        0,\n        9,\n        0,\n        0\n    ],\n    [\n        9,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        4\n    ],\n    [\n        0,\n        7,\n        0,\n        0,\n        9,\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        3\n    ],\n    [\n        1,\n        4,\n        0,\n        0,\n        2,\n        5,\n        0,\n        0,\n        0\n    ]\n]);\n$35da740d59af89ba$var$game.start();\n\n\n//# sourceMappingURL=index.8955558e.js.map\n","import { BaseGame } from './game';\n\nconst game = new BaseGame(document.querySelector('.board'), [\n  [0, 0, 0, 3, 8, 0, 0, 5, 6],\n  [3, 0, 0, 0, 0, 6, 0, 0, 0],\n  [0, 0, 0, 0, 4, 0, 0, 3, 0],\n  [8, 0, 7, 0, 0, 0, 0, 0, 1],\n  [0, 0, 1, 0, 7, 0, 9, 0, 0],\n  [9, 0, 0, 0, 0, 0, 2, 0, 4],\n  [0, 7, 0, 0, 9, 0, 0, 0, 0],\n  [0, 0, 0, 4, 0, 0, 0, 0, 3],\n  [1, 4, 0, 0, 2, 5, 0, 0, 0],\n]);\n\ngame.start();\n","export { default as BaseGame } from './base-game.js';\n","import { Sudoku, Tile } from '../sudoku';\n\nexport default class BaseGame {\n  constructor(boardElement, initialValues) {\n    this.boardElement = boardElement;\n    this.initialValues = initialValues;\n    this.sudoku = null;\n    this.activeTileRow = null;\n    this.activeTileCol = null;\n  }\n\n  start() {\n    this.sudoku = new Sudoku(this.boardElement);\n    this.sudoku.restart(this.initialValues);\n    this.updateSudoku();\n  }\n\n  updateSudoku() {\n    this.sudoku.update();\n    this.addListenersAndValidatorsToSudokuTiles();\n  }\n\n  addListenersAndValidatorsToSudokuTiles() {\n    for (let row = 0; row < 9; row++) {\n      for (let col = 0; col < 9; col++) {\n        const tile = this.sudoku.board[row][col];\n\n        if (this.isInitial(tile)) {\n          tile.element.classList.add('initial');\n        } else {\n          tile.element.addEventListener('click', () => this.toggleActivateTile(tile));\n        }\n\n        if (tile.value !== null && !this.isValidMove(row, col, tile.value)) {\n          tile.element.classList.add('invalid');\n        }\n      }\n    }\n  }\n\n  isInitial(tile) {\n    return Boolean(tile && tile.value && this.initialValues[tile.row][tile.col] === tile.value);\n  }\n\n  /**\n   * If not active, activates the clicked tile for keyboard input.\n   * Otherwise, deactivates the keyboard event listeners.\n   *\n   * @param {Tile} tile\n   */\n  toggleActivateTile(tile) {\n    if (this.activeTileRow === tile.row && this.activeTileCol === tile.col) {\n      tile.element.classList.remove('active');\n      this.activeTileRow = null;\n      this.activeTileCol = null;\n      this.removeKeyboardListener();\n    } else {\n      if (this.activeTileRow !== null && this.activeTileCol !== null) {\n        const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n        activeTile.element.classList.remove('active');\n      } else {\n        this.addKeyboardListener();\n      }\n\n      tile.element.classList.add('active');\n      this.activeTileRow = tile.row;\n      this.activeTileCol = tile.col;\n    }\n  }\n\n  deactivateTile() {\n    if (this.activeTileRow === null || this.activeTileCol === null) return;\n    const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n    activeTile.element.classList.remove('active');\n    this.activeTileRow = null;\n    this.activeTileCol = null;\n  }\n\n  addKeyboardListener() {\n    if (!document) return;\n\n    // Create a hidden input element if it doesn't exist\n    let hiddenInput = document.getElementById('hiddenKeyboardInput');\n    if (!hiddenInput) {\n      hiddenInput = document.createElement('input');\n      hiddenInput.type = 'text';\n      hiddenInput.id = 'hiddenKeyboardInput';\n      hiddenInput.style.position = 'absolute';\n      hiddenInput.style.opacity = 0;\n      hiddenInput.style.height = 0;\n      hiddenInput.style.width = 0;\n      hiddenInput.style.zIndex = -1;\n      document.body.appendChild(hiddenInput);\n    }\n\n    // Focus on the hidden input element to show the keyboard\n    hiddenInput.focus();\n\n    // And then we add the event listener.\n    document.addEventListener('keydown', this.handleKeyboardEvent);\n  }\n\n  removeKeyboardListener() {\n    if (!document) return;\n    document.removeEventListener('keydown', this.handleKeyboardEvent);\n  }\n\n  /**\n   * @param {KeyboardEvent} event \n   */\n  handleKeyboardEvent = (event) => {\n    event.stopPropagation();\n\n    if (this.activeTileRow === null || this.activeTileCol === null) return;\n\n    // Handle actual keyboard event.\n    const value = Number(event.key);\n\n    if (value >= 1 && value <= 9) {\n      this.fillActiveTile(value);\n      this.deactivateTile();\n      this.removeKeyboardListener();\n      this.updateSudoku();\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      this.fillActiveTile(null);\n      this.deactivateTile();\n      this.removeKeyboardListener();\n      this.updateSudoku();\n    } else if (event.key === 'Escape') {\n      this.deactivateTile();\n      this.removeKeyboardListener();\n    }\n  };\n\n  /**\n   * Fills active tile with the provided value\n   *\n   * @param {number | null} value\n   */\n  fillActiveTile(value) {\n    if (this.activeTileRow === null || this.activeTileCol === null) return;\n    const activeTile = this.sudoku.board[this.activeTileRow][this.activeTileCol];\n    activeTile.value = value;\n  }\n\n  /**\n   * Checks if a tile can be filled with a given value.\n   *\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */\n  isValidMove(row, col, value) {\n    const board = this.sudoku.board;\n\n    // Check row\n    for (let c = 0; c < 9; c++) {\n      if (board[row][c].value === value && c !== col) return false;\n    }\n\n    // Check column\n    for (let r = 0; r < 9; r++) {\n      if (board[r][col].value === value && r !== row) return false;\n    }\n\n    // Check 3x3 box\n    const startRow = 3 * Math.floor(row / 3);\n    const startCol = 3 * Math.floor(col / 3);\n    for (let r = startRow; r < startRow + 3; r++) {\n      for (let c = startCol; c < startCol + 3; c++) {\n        if (board[r][c].value === value && r !== row && c !== col) return false;\n      }\n    }\n\n    return true;\n  }\n}\n","export { default as Sudoku } from './sudoku';\nexport { default as Tile } from './tile';\n","import Tile from './tile';\n\nexport default class Sudoku {\n  /**\n   * @param {HTMLElement} element\n   * @param {number[][]} initialValues\n   */\n  constructor(element) {\n    this.element = element;\n    this.board = Array.from({ length: 9 }, () => Array(9).fill(null));\n  }\n\n  /**\n   * Restarts the Sudoku board with the given initial values.\n   *\n   * @param {number[][]} initialValues\n   */\n  restart(initialValues) {\n    this.board = Array.from({ length: 9 }, () => Array(9).fill(null));\n\n    for (let row = 0; row < 9; row++) {\n      for (let col = 0; col < 9; col++) {\n        let tile;\n\n        if (initialValues && initialValues[row] && initialValues[row][col]) {\n          tile = new Tile(row, col, initialValues[row][col]);\n        } else {\n          tile = new Tile(row, col, null);\n        }\n\n        this.board[row][col] = tile;\n      }\n    }\n  }\n\n  render() {\n    const boardDiv = document.createElement('div');\n    boardDiv.classList.add('board');\n\n    // First, we generate divs for each 3x3 box.\n    for (let boardRow = 0; boardRow < 3; boardRow++) {\n      const boardRowDiv = document.createElement('div');\n      boardRowDiv.classList.add('board-row');\n      boardDiv.appendChild(boardRowDiv);\n\n      for (let boardCol = 0; boardCol < 3; boardCol++) {\n        const boxDiv = document.createElement('div');\n        boxDiv.classList.add('box');\n        boardRowDiv.appendChild(boxDiv);\n\n        // Then we generate the 9 tiles inside each 3x3 box.\n        for (let boxRow = 0; boxRow < 3; boxRow++) {\n          const boxRowDiv = document.createElement('div');\n          boxRowDiv.classList.add('box-row');\n          boxDiv.appendChild(boxRowDiv);\n\n          for (let boxCol = 0; boxCol < 3; boxCol++) {\n            const row = 3 * boardRow + boxRow;\n            const col = 3 * boardCol + boxCol;\n            const tileDiv = this.board[row][col].render();\n            boxRowDiv.appendChild(tileDiv);\n          }\n        }\n      }\n    }\n\n    return boardDiv;\n  }\n\n  update() {\n    const newBoard = this.render();\n\n    const parentElement = this.element.parentNode;\n    parentElement.removeChild(this.element);\n\n    this.element = newBoard;\n    parentElement.appendChild(this.element);\n  }\n}\n","export default class Tile {\n  /**\n   * @param {number} row\n   * @param {number} col\n   * @param {number} value\n   */\n  constructor(row, col, value) {\n    this.row = row;\n    this.col = col;\n    this.value = value;\n    this.element = null;\n    this.pencilMarks = [];\n  }\n\n  render() {\n    const tileEl = document.createElement('div');\n    tileEl.classList.add('tile');\n\n    if (this.value) {\n      tileEl.textContent = this.value;\n    }\n\n    this.element = tileEl;\n    return tileEl;\n  }\n}\n"],"names":["$710399a0f3bd0a12$export$2e2bcd8739ae039","constructor","row","col","value","element","pencilMarks","render","tileEl","document","createElement","classList","add","textContent","$043f643f06a810b4$export$2e2bcd8739ae039","board","Array","from","length","fill","restart","initialValues","tile","boardDiv","boardRow","boardRowDiv","appendChild","boardCol","boxDiv","boxRow","boxRowDiv","boxCol","tileDiv","update","newBoard","parentElement","parentNode","removeChild","$35da740d59af89ba$var$game","boardElement","sudoku","activeTileRow","activeTileCol","start","updateSudoku","addListenersAndValidatorsToSudokuTiles","isInitial","addEventListener","toggleActivateTile","isValidMove","Boolean","remove","removeKeyboardListener","activeTile","addKeyboardListener","deactivateTile","hiddenInput","getElementById","type","id","style","position","opacity","height","width","zIndex","body","focus","handleKeyboardEvent","removeEventListener","event","stopPropagation","Number","key","fillActiveTile","c","r","startRow","Math","floor","startCol","querySelector","BaseGame","game","default","Sudoku","Tile"],"version":3,"file":"index.8955558e.js.map"}